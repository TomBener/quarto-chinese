% Change the style of the bibliography
\renewcommand{\bibfont}{\zihao{5}}
\setlength\bibhang{1em}
\setlength\bibitemsep{2pt}
% 顺序标签与文献内容的间距
% \setlength{\biblabelsep}{2mm}

% Use en-dash instead of hyphen for page ranges
\DeclareFieldFormat{postnote}{\mknormrange{#1}} % for numeric style
\DefineBibliographyExtras{english}{\renewcommand*{\bibrangedash}{{\textendash}}}

% Redefine `主编` as `, 编`
\makeatletter
\def\str@editorcn{, 编}
\def\str@editorscn{, 编}

% Capitalize letters after hyphen in given names if they are abbreviated
% https://github.com/hushidong/biblatex-gb7714-2015/issues/198#issuecomment-2113715139
\newbibmacro*{name:gblowercase}[4]{\bibauthorfont%
  \gbcaselocalset%
  \ifuseprefix
    {\usebibmacro{name:delim}{#3#1}%
     \usebibmacro{name:hook}{#3#1}%
     \ifdefvoid{#3}{}{%
       \ifcapital
         {\mkbibnameprefix{\MakeCapital{#3}}\isdot}
         {\mkbibnameprefix{#3}\isdot}%
       \ifprefchar{}{\bibnamedelimc}}%
     \ifdefvoid{#2}{\mkbibnamefamily{\MakeCapital{#1}}}{\mkbibnamefamily{{#1}}}\isdot%
     \ifdefvoid{#2}{}{\revsdnamepunct\bibnamedelimd\mkbibnamegiven{\MakeUppercase{#2}}\isdot}%\MakeCapital
     \ifdefvoid{#4}{}{\bibnamedelimd\mkbibnamesuffix{#4}\isdot}}
    {\usebibmacro{name:delim}{#1}%
     \usebibmacro{name:hook}{#1}%
     \ifdefvoid{#2}{\mkbibnamefamily{\MakeCapital{#1}}}{\mkbibnamefamily{{#1}}}\isdot%
     \ifboolexpe{%
       test {\ifdefvoid{#2}}
       and
       test {\ifdefvoid{#3}}}
       {}{\revsdnamepunct}%
     \ifdefvoid{#2}{}{\bibnamedelimd\mkbibnamegiven{\MakeUppercase{#2}}\isdot}
     \ifdefvoid{#3}{}{\bibnamedelimd\mkbibnameprefix{#3}\isdot}
     \ifdefvoid{#4}{}{\bibnamedelimd\mkbibnamesuffix{#4}\isdot}}%
}
\makeatother

$if(watermark)$
\usepackage{draftwatermark}
$if(watermarktext)$
\SetWatermarkText{$watermarktext$}
$endif$
$if(watermarkscale)$
\SetWatermarkScale{$watermarkscale$}
$endif$
$endif$
